---
title: HTTP报文中的头部（Header）
date: 2017-01-16 22:18:22
tags:
categories: "Web学习笔记"
---

在请求和响应报文中都可以用首部来提供信息，有些首部是某种报文专用的，有些首部则更通用一些，可以将首部分为五个主要的类型：

  * **通用首部**

  这些是客户端和服务器都可以使用的通用首部。可以在客户端、服务器和其他应用程序值卡提供一些非常有用的通用功能。比如，Date首部就是一个通用首部，每一端都可以用它来说明构建报文的时间和日期。

  ![](/images/categories/web/http_message_head_01.png)

  * **请求首部**

  从名字中就可以看出，请求首部是请求报文特有的。它们对服务器提供了一些额外信息，比如客户端希望接收什么类型的数据。例如，下面的Accept首部就用来告知服务器，客户端会接收与其请求相符的任意媒体类型。

  ![](/images/categories/web/http_message_head_02.png)

  <!--more-->

  * **响应首部**

  响应报文有自己的首部集，以便为客户端提供信息。例如，下列Server首部用来告知客户端它在与一个版本1.0的Tiki-hut服务器进行交互：

  ![](/images/categories/web/http_message_head_03.png)

  * **实体首部**

  实体首部指的是用于应对实体主体部分的首部。比如，可以用实体首部来说明实体主体部分的数据类型。例如，可以通过下列Content-Type首部告知应用程序，数据适应iso-latin-1字符集表示的HTML文档：

  ![](/images/categories/web/http_message_head_04.png)

  * **扩展首部**

  扩展首部是非标准的首部，由应用程序开发者创建，但还未添加到已批准的HTTP规范中去。即使不知道这些扩展首部的含义，HTTP程序也要接受它们并对其进行转发。

下面就对各个类型在规范中已定义的列出：

#### 通用首部

![](/images/categories/web/http_message_head_05.png)

#### 请求首部

![](/images/categories/web/http_message_head_06.png)

  * **Accept首部**

  Accept首部为客户端提供了一种将其喜好和能力告知服务器的方式，包括它们想要什么，可以使用什么，以及最重要的，它们不想要什么。这样，服务器就可以根据这些额外信息，对要发送的内容做出更明智的决定。Accept首部会使连接的两端都受益。客户端会得到它们想要的内容，服务器则不会浪费其时间和带宽来发送客户端无法使用的东西，下图列出了各种Accept首部：

  ![](/images/categories/web/http_message_head_07.png)

  * **条件请求首部**

  有时客户端希望为请求加上某些限制。比如，如果客户端已经有了文档副本，就希望只在服务器上的文档与客户端拥有的副本有所区别时，才请求服务器传输文档。通过条件请求首部，客户端就可以为请求加上这种限制，要求服务器在对请求进行响应之前，确保某个条件为真，下图列出了已定义的条件请求首部：

  ![](/images/categories/web/http_message_head_08.png)

  * **安全请求首部**

  HTTP本身就支持一种简单的机制，可以对请求进行质问/响应认证。这种机制要求客户端在获取特定的资源之前，先对自身进行认证，这样就可以使事务稍微安全一些。下图列出了一些安全请求首部：

  ![](/images/categories/web/http_message_head_09.png)

  * **代理请求首部**

  随着因特网上代理的普遍应用，人们定义了几个首部来协助其更好地工作。

  下图列出了一些代理请求首部：

  ![](/images/categories/web/http_message_head_10.png)

#### 响应首部

下图列出了响应的信息性首部：

![](/images/categories/web/http_message_head_11.png)

  * **协商首部**

  如果资源有多种表示方法，比如，如果服务器上由某文档的法语和德语译稿，HTTP/1.1可以为服务器和客户端提供对资源进行协商的能力，下图列出了集中协商首部：

  ![](/images/categories/web/http_message_head_12.png)

  * **安全响应首部**

  ![](/images/categories/web/http_message_head_13.png)

#### 实体首部

实体首部提供了有关实体及其内容的大量信息，从有关对象类型的信息，到能够对资源使用的各种有效的请求方法。总之，实体首部可以告知报文的接收者它在对什么进行处理，下图列出了实体的信息性首部：

![](/images/categories/web/http_message_head_14.png)

  * **内容首部**

  内容首部提供了与实体内容有关的特定信息，说明了其类型、尺寸以及处理它所需的其他有用信息。比如，Web浏览器可以通过查看返回的内容类型，得知如何显示对象，下图使各种内容首部：

  ![](/images/categories/web/http_message_head_15.png)

  * **实体缓存首部**

  通用的缓存首部说明了如何或什么适合进行缓存。实体的缓存首部提供了与被缓存实体有关的信息，比如，验证已缓存的资源副本是否仍然有效所需的信息，以及更好地估计已缓存资源何时失效所需的线索。

  ![](/images/categories/web/http_message_head_16.png)
