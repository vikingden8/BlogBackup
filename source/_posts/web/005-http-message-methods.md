---
title: HTTP报文中的方法（Methods）
date: 2017-01-15 22:56:49
tags:
categories: "Web学习笔记"
---

这节主要是对上节列出的一些基本HTTP方法进行更为深入的讨论，注意，并不是每个服务器都实现了所有的方法。如果一台服务器要与HTTP 1.1兼容，那么只要为其资源实现GET方法和HEAD方法就可以了。

即使服务器实现了所有这些方法，这些方法的使用很可能也是受限的。例如，支持DELETE方法或PUT方法的服务器可能并不希望任何人都能够删除或存储资源。这些限制通常都是在服务器的配置中进行设置的，因此会随着站点和服务器的不同而有所不同。

#### 安全方法

HTTP定义了一组被称为安全方法的方法。GET方法和HEAD方法都被认为是安全的，这就意味着使用GET和HEAD方法的HTTP请求都不会产生什么动作。

不产生动作，在这里意味着HTTP请求不会在服务器上产生什么结果。例如，你在购物网站上，点击了“提交购买”按钮，点击按钮时会提交一个带有信息卡的POST请求，那么在服务器上，就会为你执行一个动作。在这种情况下，为购买行为支付行用卡就是所执行的动作。

#### GET

GET是最常用的方法，通常用于请求服务器发送某个资源。HTTP/1.1要求服务器实现此方法。

![](/images/categories/web/http_message_method_get.png)

<!--more-->

#### HEAD

HEAD方法与GET方法的行为很类似，但服务器在响应中只返回首部。不会返回实体的主体部分，这就意味着客户端在未获取实际资源的情况下，对资源的首部进行检查。使用HEAD，可以：

  * 在不获取资源的情况下了解资源的情况；

  * 通过查看响应中的状态码，看看某个对象是否存在；

  * 通过查看首部，测试资源是否被修改了。

服务器开发者必须确保返回的首部与GET请求所返回的首部完全相同。遵循HTTP/1.1规范，就必须实现HEAD方法。

![](/images/categories/web/http_message_method_head.png)

#### PUT

与GET从服务器读取文档相反，PUT方法会向服务器写入文档。有些发布系统允许用户创建Web页面，并用PUT直接将其安装到Web服务器上去。

![](/images/categories/web/http_message_method_put.png)

PUT方法的语义就是让服务器用请求的主体部分来创建一个由所请求的URL命名的新文档，或者，如果那个URL已经存在的话，就用这主体替代它。

因为PUT允许用户对内容进行修改，所以很多Web服务器都要求在执行PUT之前，用密码登陆。

#### POST

POST方法起初是用来向服务器输入数据的。实际上，通常会用它来支持HTML的表单。表单中填好的数据通常会被传送到服务器，然后由服务器将其发送到它要去的地方。

![](/images/categories/web/http_message_method_post.png)

#### TRACE

客户端发起一个请求时，这个请求可能要穿过防火墙、代理、网关或其他一些应用程序。每个中间节点都可能会修改原始的HTTP请求。TRACE方法允许客户端在最终将请求发送给服务器时，看看它变成了什么样子。

TRACE请求会在目的服务器端发起一个“环回”诊断。行程最后一站的服务器会弹出一条TRACE响应，并在响应主体中携带它收到的原始请求报文。这样客户端就可以查看在所有中间HTTP应用程序组成的请求/响应链上，原始报文是否，以及如何被毁坏或修改过。

![](/images/categories/web/http_message_method_trace.png)

TRACE方法主要用于诊断，也就是说，用于验证请求是否如愿穿过了请求/响应链。它也是一种很好的工具，可以用来查看代理和其他应用程序对用户请求所产生效果。

TRACE请求中不能带有实体的主体部分，TRACE响应的实体主体部分包含了响应服务器收到的请求的精确副本。

#### OPTIONS

OPTIONS方法请求Web服务器告知其支持的各种功能。可以询问服务器通常支持哪种方阿飞，或者对某些特殊资源支持哪些方法。（有些服务器可能只支持对一些特殊类型的对象使用特定的操作）

这为客户端应用程序提供了一种手段，使其不用实际访问那些资源就能判定访问各种资源的最优方式。

![](/images/categories/web/http_message_method_options.png)

#### DELETE

顾名思义，DELETE方法所做的事情就是请服务器删除请求URL所指定的资源。但是，客户端应用程序无法保证删除操作一定会被执行。因为HTTP规范允许服务器在不通知客户端的情况下撤销请求。

![](/images/categories/web/http_message_method_delete.png)

#### 扩展方法

HTTP被设计程字段可扩展的，这样新的特性就不会使老的软件失效了。扩展方法指的就是没有在HTTP/1.1规范中定义的方法。服务器会为它所管理的资源实现一些HTTP服务，这些方法为开发者提供了一种扩展这些HTTP服务能力的手段。
